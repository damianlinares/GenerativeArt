3: La Naturaleza del 'Yo'	"// --- OBRA 03: LA NATURALEZA DEL 'YO' ---
// Estilo Visionario. Una exploración de la conciencia como Observador, Código o Máquina.

let chakras = [];
let particulasCodigo = [];
let tiempo = 0;

const estadosDelYo = [""OBSERVADOR"", ""CÓDIGO"", ""MÁQUINA""];
let estadoActual = 0; // 0: Observador, 1: Código, 2: Máquina

function setup() {
  createCanvas(windowWidth, windowHeight);
  colorMode(HSB, 360, 100, 100, 100);
  
  // Definimos los 7 chakras
  let coloresChakra = [0, 30, 60, 120, 210, 240, 275];
  for (let i = 0; i < 7; i++) {
    chakras.push({
      y: (height * 0.85) - (i * height * 0.1),
      color: coloresChakra[i],
      tam: 20
    });
  }

  // Partículas para el estado ""Código""
  for (let i = 0; i < 200; i++) {
    particulasCodigo.push({
      x: random(width),
      y: random(height),
      valor: floor(random(2))
    });
  }
  
  textAlign(CENTER, CENTER);
  textFont('serif');
}

function draw() {
  background(240, 30, 5);
  tiempo += 0.01;

  // Cambiar de estado cada 12 segundos (720 frames)
  if (frameCount > 0 && frameCount % 720 === 0) {
    estadoActual = (estadoActual + 1) % estadosDelYo.length;
  }
  
  let estado = estadosDelYo[estadoActual];

  // La visualización cambia drásticamente según el estado
  switch (estado) {
    case ""OBSERVADOR"":
      dibujarModoObservador();
      break;
    case ""CÓDIGO"":
      dibujarModoCodigo();
      break;
    case ""MÁQUINA"":
      dibujarModoMaquina();
      break;
  }

  mostrarInterfaz(estado);
}

// --- FUNCIONES DE DIBUJO PARA CADA ESTADO ---

function dibujarModoObservador() {
  // Fondo de conciencia universal
  for (let x = 0; x < width; x += 60) {
    for (let y = 0; y < height; y += 60) {
      let parpadeo = 0.5 + 0.5 * sin(tiempo * 2 + y * 0.01);
      stroke(255, 15);
      noFill();
      ellipse(x, y, 25, 20 * parpadeo);
    }
  }

  // Aura expansiva y etérea
  noFill();
  for (let i = 1; i < 7; i++) {
    stroke(180, 50, 100, 5 + i);
    strokeWeight(i);
    ellipse(width/2, height/2, width*0.4 + i*20 + sin(tiempo+i)*20);
  }
  
  // Figura de luz
  dibujarFiguraBase(1.0); // 1.0 = máxima luminosidad
  
  // Tercer ojo
  let tercerOjoY = chakras[5].y;
  fill(210, 80, 100);
  ellipse(width/2, tercerOjoY, 40, 30);
  fill(0, 0, 100);
  ellipse(width/2, tercerOjoY, 10, 10);
}

function dibujarModoCodigo() {
  // Fondo de matriz digital
  stroke(180, 80, 30, 50);
  strokeWeight(1);
  for (let i = 0; i < width; i += 20) line(i, 0, i, height);
  for (let i = 0; i < height; i += 20) line(0, i, width, i);

  // Flujo de datos binarios
  for (let p of particulasCodigo) {
    p.y += 2;
    if (p.y > height) p.y = 0;
    fill(120, 100, 100, 60);
    textSize(10);
    text(p.valor, p.x, p.y);
  }
  
  // Figura se vuelve más geométrica
  dibujarFiguraBase(0.7);
  
  // Chakras como formas geométricas
  for (let i = 0; i < chakras.length; i++) {
    let c = chakras[i];
    push();
    translate(width/2, c.y);
    rotate(tiempo * (i % 2 == 0 ? -1 : 1));
    stroke(c.color, 100, 100);
    strokeWeight(2);
    noFill();
    rectMode(CENTER);
    rect(0, 0, c.tam * 1.5, c.tam * 1.5);
    pop();
  }
}

function dibujarModoMaquina() {
  // Aura como campo eléctrico
  for (let i = 0; i < 50; i++) {
    stroke(180, 80, 100, random(10, 40));
    strokeWeight(random(0.5, 2));
    let startY = random(height);
    let endY = startY + random(-50, 50);
    line(0, startY, width, endY);
  }

  // Figura con red neuronal interna
  dibujarFiguraBase(0.5);
  for (let i = 0; i < chakras.length - 1; i++) {
    for (let j = 0; j < 5; j++) {
      stroke(60, 100, 100, 60); // Amarillo eléctrico
      strokeWeight(0.5);
      let p1 = chakras[i].y;
      let p2 = chakras[i+1].y;
      let ctrlX1 = width/2 + random(-40, 40);
      let ctrlX2 = width/2 + random(-40, 40);
      noFill();
      bezier(width/2, p1, ctrlX1, lerp(p1, p2, 0.33), ctrlX2, lerp(p1,p2,0.66), width/2, p2);
    }
  }
}

// Función base para la figura de luz y chakras
function dibujarFiguraBase(luminosidad) {
  let alpha = 50 * luminosidad;
  stroke(0, 0, 100, alpha);
  strokeWeight(3);
  line(width / 2, 0, width / 2, height);
  
  for (let c of chakras) {
    let brillo = 100 * luminosidad;
    noStroke();
    fill(c.color, 90, brillo, 20);
    ellipse(width / 2, c.y, c.tam * 3);
    fill(c.color, 90, brillo, 100);
    ellipse(width / 2, c.y, c.tam);
  }
}

function mostrarInterfaz(estado) {
  fill(0, 0, 0, 50);
  rectMode(CENTER);
  noStroke();
  rect(width / 2, height - 60, 650, 80, 10);

  fill(0, 0, 100);
  textSize(24);
  text(""LA NATURALEZA DEL 'YO'"", width / 2, height - 80);
  
  textSize(18);
  text(""MODO: "" + estado, width / 2, height - 45);
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
  for (let i = 0; i < 7; i++) {
    chakras[i].y = (height * 0.85) - (i * height * 0.1);
  }
}"	"Esta obra es una meditación visual sobre la pregunta fundamental: ¿Qué es el ""Yo""? La pieza explora tres perspectivas filosóficas a través de tres estados visuales que se transforman cíclicamente.

El Observador: Representa la conciencia pura. La figura central es etérea y luminosa, con un aura expansiva y un tercer ojo activo, rodeada por un cosmos de ojos que simbolizan la percepción universal.

El Código: Interpreta el ""Yo"" como información. El aura se convierte en una matriz digital, los chakras adoptan formas geométricas y flujos de datos binarios recorren el sistema, sugiriendo que la conciencia es un programa en ejecución.

La Máquina: Encarna la visión materialista del ""Yo"" como un producto del cerebro. La figura se vuelve más definida, revelando una red neuronal interna brillante, y el aura crepita como un campo electromagnético, representando el cuerpo como hardware biológico.

"	"La pregunta más profunda no tiene una sola respuesta. Esta obra es un espejo de tres caras que refleja las grandes teorías sobre tu propia existencia.

¿Eres la conciencia silenciosa que todo lo ve? ¿Un complejo programa ejecutándose en el cosmos? ¿O una maravilla biológica de carne y electricidad? Observa cómo la naturaleza de tu ser se reconfigura, fluyendo entre lo espiritual, lo digital y lo material. No busques una respuesta. Experimenta todas las preguntas."
